<!doctype html>
<html class="no-js" lang="fr">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Recherche" href="search.html" /><link rel="next" title="API End Points" href="api.html" /><link rel="prev" title="Installation" href="installation.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.01.02"/>
        <title>Les différents serveurs - Documentation Affichage Dynamique 0.1</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=df49af52631e7917044a9c21a57f7b83170a6dd0" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-toolbox-code.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=fade93df149f7c5fedb3ff897f799dc7d283b420" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Documentation Affichage Dynamique 0.1</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Documentation Affichage Dynamique 0.1</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Recherche name="q" aria-label="Recherche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Table des matieres:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Les différents serveurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API End Points</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="generated/AffichageDynamiqueServer/modules.html">AffichageDynamiqueServer</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="generated/AffichageDynamiqueServer/Affichage.html">Affichage</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/AffichageDynamiqueServer/Affichage.views.html">Affichage.views module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="generated/AffichageDynamiqueServer/ApiServer.html">ApiServer</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/AffichageDynamiqueServer/ApiServer.meteo.html">ApiServer.meteo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/AffichageDynamiqueServer/ApiServer.pronote.html">ApiServer.pronote module</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/AffichageDynamiqueServer/ApiServer.twitter.html">ApiServer.twitter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/AffichageDynamiqueServer/ApiServer.views.html">ApiServer.views module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="generated/AffichageDynamiqueServer/WebServer.html">WebServer</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/AffichageDynamiqueServer/WebServer.views.html">WebServer.views module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="generated/SondageServer/modules.html">SondageServer</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="generated/SondageServer/votes.html">votes</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/SondageServer/votes.views.html">votes.views module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="pronoteServer.html">PronoteServer</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="pronoteServerApi.html">Pronote Server API End points</a></li>
<li class="toctree-l2"><a class="reference internal" href="pronoteServerFunctions.html">Pronote Server Fonctions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="bestPractices.html">Autres</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="environ.html">environ module</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="les-differents-serveurs">
<h1>Les différents serveurs<a class="headerlink" href="#les-differents-serveurs" title="Lien permanent vers ce titre">¶</a></h1>
<p>Pour bien fonctionner, on a crée 3 serveurs qui communique ensemble,
<a class="reference internal" href="#affichagedynamique"><span class="std std-ref">le serveur gérant l’affichage et sa gestion</span></a>,
<a class="reference internal" href="#pronoteserver"><span class="std std-ref">un serveur qui s’occupe de faire le lien entre Pronote et le premier
serveur</span></a> et le dernier <a class="reference internal" href="#serveursondage"><span class="std std-ref">serveur qui s’occupe de faire
le lien entre les élèves et le serveur principal pour les sondages</span></a>.</p>
<a class="reference internal image-reference" href="_images/schemaServeurs.png"><img alt="Schema Serveurs" src="_images/schemaServeurs.png" style="width: 500px;"/></a>
<div class="section" id="gestion-de-l-affichage-dynamique">
<span id="affichagedynamique"></span><h2>Gestion de l’affichage dynamique<a class="headerlink" href="#gestion-de-l-affichage-dynamique" title="Lien permanent vers ce titre">¶</a></h2>
<a class="reference internal image-reference" href="_images/affichagedynamique.png"><img alt="Affichage Dynamique" src="_images/affichagedynamique.png" style="width: 200px;"/></a>
<p>Le serveur est entièrement fait en python grâce au framework Django. Il se lance
sur le port <code class="docutils literal notranslate"><span class="pre">8000</span></code> de la machine. Il est découpé en 3 applications :</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#affichage"><span class="std std-ref">Affichage</span></a></p></li>
<li><p><a class="reference internal" href="#webserver"><span class="std std-ref">WebServer</span></a></p></li>
<li><p><a class="reference internal" href="#apiserver"><span class="std std-ref">ApiServer</span></a></p></li>
</ul>
</div></blockquote>
<div class="section" id="affichage">
<span id="id1"></span><h3>Affichage<a class="headerlink" href="#affichage" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’application <code class="docutils literal notranslate"><span class="pre">Affichage</span></code> est assez simple, elle s’occupe de renvoyer les pages <code class="docutils literal notranslate"><span class="pre">HTML</span></code> correspondante à l’identifiant d’un l’écran fourni.</p>
<p>Par exemple, lorsque l’on fait une requête <code class="docutils literal notranslate"><span class="pre">GET</span></code> vers :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>localhost/ecran?name=self
</pre></div>
</div>
<p>Elle nous renverra le fichier <code class="docutils literal notranslate"><span class="pre">HTML</span></code> correspondant au paramètre <code class="docutils literal notranslate"><span class="pre">ecran</span></code>, qui est <code class="docutils literal notranslate"><span class="pre">self</span></code>, à afficher.</p>
<p>Si l’application ne trouve pas de page correspondante, elle renverra un fichier <code class="docutils literal notranslate"><span class="pre">HTML</span></code> <code class="docutils literal notranslate"><span class="pre">base</span></code> qui nous sert à ne pas laisser un écran noir en plein milieu du lycée s’il y a une maintenance.</p>
<p>Références des fonctions et des vues: <a class="reference internal" href="generated/AffichageDynamiqueServer/Affichage.html"><span class="doc">ici</span></a></p>
</div>
<div class="section" id="webserver">
<span id="id2"></span><h3>WebServer<a class="headerlink" href="#webserver" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’application <code class="docutils literal notranslate"><span class="pre">WebServer</span></code> gère toutes les pages de gestion des écrans. Par exemple,
celle pour ajouter un article ou celle pour ajouter des informations à la BDD</p>
<p>Références des fonctions et des vues: <a class="reference internal" href="generated/AffichageDynamiqueServer/WebServer.html"><span class="doc">ici</span></a></p>
</div>
<div class="section" id="apiserver">
<span id="id3"></span><h3>ApiServer<a class="headerlink" href="#apiserver" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’application <code class="docutils literal notranslate"><span class="pre">ApiServer</span></code> quant à elle s’occuper de gérer et de retourner les données
demandées sous format <code class="docutils literal notranslate"><span class="pre">JSON</span></code>. Les données concernent uniquement les écrans, c’est à dire
que les requêtes atteignant cette application proviennent uniquement des écrans.</p>
<p>Documentation de l’api : <a class="reference internal" href="api.html"><span class="doc">ici</span></a></p>
</div>
</div>
<div class="section" id="pronoteserver">
<span id="id4"></span><h2>PronoteServer<a class="headerlink" href="#pronoteserver" title="Lien permanent vers ce titre">¶</a></h2>
<a class="reference internal image-reference" href="_images/pronoteserver.png"><img alt="Pronote Server" src="_images/pronoteserver.png" style="width: 200px;"/></a>
<p>Le serveur est entièrement fait en <code class="docutils literal notranslate"><span class="pre">nodeJS</span></code> avec le module <a class="reference external" href="https://github.com/dorian-eydoux/pronote-api">pronote-api</a> .
Le module étant seulement en <code class="docutils literal notranslate"><span class="pre">nodeJS</span></code> nous avons préféré faire un serveur secondaire qui fera le lien
entre pronote et le serveur <a class="reference internal" href="#affichagedynamique"><span class="std std-ref">Affichage dynamique</span></a>. Ce serveur n’est disponible seulement en
local pour des raisons de sécurités.</p>
<p>Le serveur se connecte à pronote avec des identifiants donnés, garde une session
n’ayant pas de limite dans le temps et fait des requêtes vers Pronote quand on demande
une ressource provenant de Pronote, pour être sûr d’être à jour. Si jamais il y a un
problème avec le serveur <code class="docutils literal notranslate"><span class="pre">nodeJS</span></code> , chaque resultat de requête est sauvegardé dans la base
de données pour permettre de quand même retourner une valeur.</p>
<p>Pour le moment le serveur récupère seulement les profs absents et les menus de la date
demandée (si la date n’est pas précisée, par defaut ça sera la date d’aujourd’hui qui
sera utilisée)</p>
<p>Le serveur tourne sur le port <code class="docutils literal notranslate"><span class="pre">5000</span></code> en <code class="docutils literal notranslate"><span class="pre">http</span></code>.</p>
<p>Documentation de l’api : <a class="reference internal" href="pronoteServerApi.html"><span class="doc">ici</span></a></p>
</div>
<div class="section" id="serveur-sondage">
<span id="serveursondage"></span><h2>Serveur sondage<a class="headerlink" href="#serveur-sondage" title="Lien permanent vers ce titre">¶</a></h2>
<a class="reference internal image-reference" href="_images/sondageserver.png"><img alt="Sondage Server" src="_images/sondageserver.png" style="width: 200px;"/></a>
<p>Le serveur sondage est entièrement consacré à faire le lien entre les élèves et
le <a class="reference internal" href="#affichagedynamique"><span class="std std-ref">serveur AffichageDynamique</span></a>.Il sert d’intermédiaire.</p>
<p>Il est programmé en <code class="docutils literal notranslate"><span class="pre">Python</span> <span class="pre">(Django)</span></code> et il se lance sur le port <code class="docutils literal notranslate"><span class="pre">8080</span></code> de la machine.</p>
<p>Il a une vue pour le choix du vote, et les autres qui ne sont que là pour connaitre le status
de l’envoie du vote.</p>
<p>Documentation du serveur : <a class="reference internal" href="generated/SondageServer/votes.views.html#module-votes.views" title="votes.views"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ici</span></code></a>.</p>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">API End Points</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="installation.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2022, Elowarp / RaptorJesus |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="_sources/servers.rst.txt"
               rel="nofollow">
              Montrer le code source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contenu
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Les différents serveurs</a><ul>
<li><a class="reference internal" href="#gestion-de-l-affichage-dynamique">Gestion de l’affichage dynamique</a><ul>
<li><a class="reference internal" href="#affichage">Affichage</a></li>
<li><a class="reference internal" href="#webserver">WebServer</a></li>
<li><a class="reference internal" href="#apiserver">ApiServer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pronoteserver">PronoteServer</a></li>
<li><a class="reference internal" href="#serveur-sondage">Serveur sondage</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/translations.js"></script>
    </body>
</html>